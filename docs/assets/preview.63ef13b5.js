import{b as D,d as N,w as d}from"./iframe.ec313ece.js";var g;function y(r,n){return n||(n=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(n)}}))}function P(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function m(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function w(r,n,e){return n&&m(r.prototype,n),e&&m(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}var I=function(){return Math.random().toString(16).slice(2)},Y=function(){function r(){var n=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.transport,a=e.async,o=a===void 0?!1:a;P(this,r),this.isAsync=void 0,this.sender=I(),this.events={},this.data={},this.transport=void 0,this.addPeerListener=D(function(s,E){n.addListener(s,E)},N(g||(g=y([`
      channel.addPeerListener is deprecated
    `])))),this.isAsync=o,t&&(this.transport=t,this.transport.setHandler(function(s){return n.handleEvent(s)}))}return w(r,[{key:"hasTransport",get:function(){return!!this.transport}},{key:"addListener",value:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)}},{key:"emit",value:function(e){for(var t=this,a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];var E={type:e,args:o,from:this.sender},h={};o.length>=1&&o[0]&&o[0].options&&(h=o[0].options);var l=function(){t.transport&&t.transport.send(E,h),t.handleEvent(E)};this.isAsync?setImmediate(l):l()}},{key:"last",value:function(e){return this.data[e]}},{key:"eventNames",value:function(){return Object.keys(this.events)}},{key:"listenerCount",value:function(e){var t=this.listeners(e);return t?t.length:0}},{key:"listeners",value:function(e){var t=this.events[e];return t||void 0}},{key:"once",value:function(e,t){var a=this.onceListener(e,t);this.addListener(e,a)}},{key:"removeAllListeners",value:function(e){e?this.events[e]&&delete this.events[e]:this.events={}}},{key:"removeListener",value:function(e,t){var a=this.listeners(e);a&&(this.events[e]=a.filter(function(o){return o!==t}))}},{key:"on",value:function(e,t){this.addListener(e,t)}},{key:"off",value:function(e,t){this.removeListener(e,t)}},{key:"handleEvent",value:function(e){var t=this.listeners(e.type);t&&t.length&&t.forEach(function(a){a.apply(e,e.args)}),this.data[e.type]=e.args}},{key:"onceListener",value:function(e,t){var a=this,o=function s(){return a.removeListener(e,s),t.apply(void 0,arguments)};return o}}]),r}(),b=Y,G=d.LOGLEVEL,u=d.console,c={trace:1,debug:2,info:3,warn:4,error:5,silent:10},U=G,R=c[U]||c.info,H={trace:function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return R<=c.trace&&u.trace.apply(u,[n].concat(t))},debug:function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return R<=c.debug&&u.debug.apply(u,[n].concat(t))},info:function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return R<=c.info&&u.info.apply(u,[n].concat(t))},warn:function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return R<=c.warn&&u.warn.apply(u,[n].concat(t))},error:function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return R<=c.error&&u.error.apply(u,[n].concat(t))},log:function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return R<c.silent&&u.log.apply(u,[n].concat(t))}};function j(){var r={setHandler:function(){},send:function(){}};return new b({transport:r})}var v;(function(r){r.TAB="tab",r.PANEL="panel",r.TOOL="tool",r.TOOLEXTRA="toolextra",r.PREVIEW="preview",r.NOTES_ELEMENT="notes-element"})(v||(v={}));function p(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function M(r,n,e){return n&&p(r.prototype,n),e&&p(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function k(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}var B=M(function r(){var n=this;k(this,r),this.loaders={},this.elements={},this.config={},this.channel=void 0,this.serverChannel=void 0,this.promise=void 0,this.resolve=void 0,this.getChannel=function(){return n.channel||n.setChannel(j()),n.channel},this.getServerChannel=function(){if(!n.serverChannel)throw new Error("Accessing non-existent serverChannel");return n.serverChannel},this.ready=function(){return n.promise},this.hasChannel=function(){return!!n.channel},this.hasServerChannel=function(){return!!n.serverChannel},this.setChannel=function(e){n.channel=e,n.resolve()},this.setServerChannel=function(e){n.serverChannel=e},this.getElements=function(e){return n.elements[e]||(n.elements[e]={}),n.elements[e]},this.addPanel=function(e,t){n.add(e,Object.assign({type:v.PANEL},t))},this.add=function(e,t){var a=t.type,o=n.getElements(a);o[e]=Object.assign({id:e},t)},this.setConfig=function(e){Object.assign(n.config,e)},this.getConfig=function(){return n.config},this.register=function(e,t){n.loaders[e]&&H.warn("".concat(e," was loaded twice, this could have bad side-effects")),n.loaders[e]=t},this.loadAddons=function(e){Object.values(n.loaders).forEach(function(t){return t(e)})},this.promise=new Promise(function(e){n.resolve=function(){return e(n.getChannel())}})}),O="__STORYBOOK_ADDONS";function W(){return d[O]||(d[O]=new B),d[O]}var _=W(),V=function(n){var e=n.name,t=n.parameterName,a=n.wrapper,o=n.skipIfNoParametersOrOptions,s=o===void 0?!1:o,E=function(l){return function(f,S){var T=S.parameters&&S.parameters[t];return T&&T.disable||s&&!l&&!T?f(S):a(f,S,{options:l,parameters:T})}};return function(){for(var h=arguments.length,l=new Array(h),f=0;f<h;f++)l[f]=arguments[f];return typeof l[0]=="function"?E().apply(void 0,l):function(){if(arguments.length>1)return l.length>1?E(l).apply(void 0,arguments):E.apply(void 0,l).apply(void 0,arguments);throw new Error("Passing stories directly into ".concat(e,`() is not allowed,
        instead use addDecorator(`).concat(e,") and pass options with the '").concat(t,"' parameter"))}}},i;(function(r){r.CHANNEL_CREATED="channelCreated",r.CONFIG_ERROR="configError",r.STORY_INDEX_INVALIDATED="storyIndexInvalidated",r.STORY_SPECIFIED="storySpecified",r.SET_STORIES="setStories",r.SET_CURRENT_STORY="setCurrentStory",r.CURRENT_STORY_WAS_SET="currentStoryWasSet",r.FORCE_RE_RENDER="forceReRender",r.FORCE_REMOUNT="forceRemount",r.PRELOAD_STORIES="preloadStories",r.STORY_PREPARED="storyPrepared",r.STORY_CHANGED="storyChanged",r.STORY_UNCHANGED="storyUnchanged",r.STORY_RENDERED="storyRendered",r.STORY_MISSING="storyMissing",r.STORY_ERRORED="storyErrored",r.STORY_THREW_EXCEPTION="storyThrewException",r.STORY_RENDER_PHASE_CHANGED="storyRenderPhaseChanged",r.UPDATE_STORY_ARGS="updateStoryArgs",r.STORY_ARGS_UPDATED="storyArgsUpdated",r.RESET_STORY_ARGS="resetStoryArgs",r.SET_GLOBALS="setGlobals",r.UPDATE_GLOBALS="updateGlobals",r.GLOBALS_UPDATED="globalsUpdated",r.REGISTER_SUBSCRIPTION="registerSubscription",r.PREVIEW_KEYDOWN="previewKeydown",r.SELECT_STORY="selectStory",r.STORIES_COLLAPSE_ALL="storiesCollapseAll",r.STORIES_EXPAND_ALL="storiesExpandAll",r.DOCS_RENDERED="docsRendered",r.SHARED_STATE_CHANGED="sharedStateChanged",r.SHARED_STATE_SET="sharedStateSet",r.NAVIGATE_URL="navigateUrl",r.UPDATE_QUERY_PARAMS="updateQueryParams"})(i||(i={}));i.CHANNEL_CREATED;i.CONFIG_ERROR;i.STORY_INDEX_INVALIDATED;i.STORY_SPECIFIED;i.SET_STORIES;i.SET_CURRENT_STORY;i.CURRENT_STORY_WAS_SET;i.FORCE_RE_RENDER;i.FORCE_REMOUNT;i.STORY_PREPARED;var $=i.STORY_CHANGED;i.STORY_UNCHANGED;i.PRELOAD_STORIES;i.STORY_RENDERED;i.STORY_MISSING;i.STORY_ERRORED;i.STORY_THREW_EXCEPTION;i.STORY_RENDER_PHASE_CHANGED;i.UPDATE_STORY_ARGS;i.STORY_ARGS_UPDATED;i.RESET_STORY_ARGS;i.SET_GLOBALS;i.UPDATE_GLOBALS;i.GLOBALS_UPDATED;i.REGISTER_SUBSCRIPTION;i.PREVIEW_KEYDOWN;var K=i.SELECT_STORY;i.STORIES_COLLAPSE_ALL;i.STORIES_EXPAND_ALL;i.DOCS_RENDERED;i.SHARED_STATE_CHANGED;i.SHARED_STATE_SET;i.NAVIGATE_URL;i.UPDATE_QUERY_PARAMS;var X="links",L=d.document,F=d.HTMLElement,Q=function(n){return _.getChannel().emit(K,n)},C=function(n){var e=n.target;if(e instanceof F){var t=e,a=t.dataset,o=a.sbKind,s=a.sbStory;(o||s)&&(n.preventDefault(),Q({kind:o,story:s}))}},A=!1,x=function(){A||(A=!0,L.addEventListener("click",C))},z=function(){A&&(A=!1,L.removeEventListener("click",C))},q=V({name:"withLinks",parameterName:X,wrapper:function(n,e){return x(),_.getChannel().once($,z),n(e)}});module&&module.hot&&module.hot.decline&&module.hot.decline();var Z=[q];export{Z as decorators};
//# sourceMappingURL=preview.63ef13b5.js.map
